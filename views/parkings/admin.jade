extend ../layouts/main
block content
    h1.col-md-12 Administrador de Parkings
    .container(ng-controller="ListarParkingsCtrl")
        .parkings
            .row
                .col-md-12
                    a.btn.btn-success(href="/nuevo-parking") Nuevo Parking
                    .panel.panel-default
                        .panel-heading Listado de Parkings
                        .panel-body
                                .col-md-12
                                    table.table.table-striped
                                        tr
                                            th Nombre
                                            th Ubicaci√≥n
                                            th Plazas 
                                            th
                                        
                                            tr(ng-repeat="p in parkings")
                                                td {{ p.nombre }} 
                                                td {{ p.ubicacion }}
                                                td {{ p.plazas }}
                                                td
                                                    //- TODO
                                                    a.btn.btn-primary(href="/ver-parking/{{ p.id }}") 
                                                        | Ver
                                                    a.btn.btn-danger(ng-click="DeleteParking(p.id)")
                                                        | Eliminar
block script
    script(src="/js/ListarParkingsCtrl.js")
    script.
        var scope;
        $(document).ready(function (){
            scope = angular.element('[ng-controller="ListarParkingsCtrl"]').scope();
            scope.getData();
            scope.$apply();
        }); 


                                        




                    
                